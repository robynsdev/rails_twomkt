<div class="container">
  <div class="row">
    <div class="col-3">
    </div>
    <div class="col-6">
      <%= form_with model: @post, local: true do |form| %>

        <% if @post.errors.any? %>
          <div id="error_explanation">
            <h2>
              <%= pluralize(@post.errors.count, "error") %> prohibited
              this post from being saved:
            </h2>
            <ul>
              <% @post.errors.full_messages.each do |msg| %>
                <li><%= msg %></li>
              <% end %>
            </ul>
          </div>
        <% end %>

        <p>
          <%= form.label :title %><br>
          <%= form.text_field :title %>
        </p>

        <br>

        <p>
          <%= form.label :price %><br>
          <%= form.text_field :price %>
        </p>
        <br>
        <div class="field">
          <%= form.radio_button :sales, "fixed_price" %>
          <%= form.label :sales, "Fixed price", :value => "fixed_price"  %>
          <%= form.radio_button :sales, "negotiable" %>
          <%= form.label :sales, "Negotiable", :value => "negotiable" %>
        </div>

        <br>

        <p>
          <%= form.label :description %><br>
          <%= form.text_area :description, cols: "30", rows: "10", style: "white-space: pre-wrap;" %>
        </p>

        <br>

        <p>
          <%= form.label :picture %><br>
          <%= form.file_field :picture, accept: 'image/png, image/jpg, image/jpeg' %>
          <%= image_tag @post.picture, class: "post-img" if @post.picture.attached? %>    
        </p>

        <br>

        <div class="field">
          <%= form.radio_button :delivery, "delivery_only" %>
          <%= form.label :delivery, "Delivery", :value => "delivery_only"  %>
          <%= form.radio_button :delivery, "collection_only" %>
          <%= form.label :delivery, "Collection", :value => "collection_only" %>
          <%= form.radio_button :delivery, "delivery_or_collection" %>
          <%= form.label :delivery, "Either", :value => "delivery_or_collection" %>
        </div>

        <br>

        <div class="field">
          <%= form.collection_check_boxes :category_ids, Category.all, :id, :name do |b| %>
            <%= b.label do %>
              <%= b.check_box + b.text %>
            <% end %>
          <% end %>
        </div>

        <br>

          <p>
            <%= form.submit %>
          </p>
        <% end %>

      </div>

    </div>
    <div class="col-3">
    </div>
  </div>
</div>

